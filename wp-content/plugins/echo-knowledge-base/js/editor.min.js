"use strict";jQuery(document).ready(function(t){if("undefined"==typeof epkb_editor_config||null==epkb_editor_config||0==epkb_editor_config.length)return!0;window.EPKBEditor={init:function(){void 0===this.initSettings&&(this.showLoader(),this.addModalWrap(),this.initSettings=Object.assign({},epkb_editor_config),this.currentSettings=Object.assign({},epkb_editor_config),this.currentEditorSettings=Object.assign({},epkb_editor_settings),this.activeZone="",this.addIframe())},addModalWrap:function(){if(t("#epkb-editor").length>0)return!0;t("body").append(EPKBEditorTemplates.modalWindow()),t(".epkb-editor-settings__panel-content-container").append(EPKBEditorTemplates.notice({icon:"arrow-circle-right",title:epkb_editor.clear_modal_notice,style:"edit-zone"})),this.modal=t("#epkb-editor"),this.showModal(),this.bindModalEvents(),t(".epkb-editor-settings__panel-content-container .epkb-editor-settings__help").hide()},addIframe:function(){t("#wp-admin-bar-epkb-edit-mode-button a").text(epkb_editor.loading);let e=document.createElement("iframe");this.url=new URL(location.href),this.url.searchParams.set("epkb-editor","1"),e.src=this.url,e.id="epkb-editor-iframe",document.body.appendChild(e),t("#epkb-editor-iframe").on("load",this,this.afterLoadIframe)},afterLoadIframe:function(e){t(".epkb-frontend-loader").addClass("epkb-frontend-loader--iframe");let i=e.data;i.iframe=t("#epkb-editor-iframe").contents(),i.currentSettings=Object.assign({},t("#epkb-editor-iframe")[0].contentWindow.epkb_editor_config,i.currentSettings);for(let e in i.currentSettings)void 0===t("#epkb-editor-iframe")[0].contentWindow.epkb_editor_config[e]&&delete i.currentSettings[e];i.iframe.find("body").append('<style type="text/css" id="epkb-editor-style"></style>'),i.styles=i.iframe.find("#epkb-editor-style"),t("body").addClass("epkb-edit-mode"),t("#wp-admin-bar-epkb-edit-mode-button a").text(epkb_editor.turned_on),i.iframe.find("body").addClass("epkb-editor-preview"),i.addEditZones(),i.iframe.on("click",".epkb-editor-zone",i,i.onZoneClick),i.iframe.on("click",".epkb-editor-zone__tabs",!1),i.iframe.on("click",".epkb-editor-zone__tab--parent",function(e){e.stopPropagation();let i=t(this).data("zone");t(this).parents(".epkb-editor-zone").each(function(){t(this).data("zone")==i&&(t(this).click(),i=!1)})}),i.iframe.find("a").click(function(t){t.preventDefault()}),i.iframe.on("submit","form:not(#epkb-settings-form)",function(t){return i.removeLoader(),!1}),i.iframe.find(".epkb-editor-zone").hover(function(){t(this).addClass("hover");let e=t(this).parents(".epkb-editor-zone");e.length&&setTimeout(function(){e.removeClass("hover")},50)},function(){t(this).removeClass("hover"),t(this).parents(".epkb-editor-zone").length&&!t(this).parents(".epkb-editor-zone--active").length&&t(this).parents(".epkb-editor-zone").eq(0).addClass("hover")}),i.iframe.find('input[name="epkb_search_terms"]').prop("autocomplete","off"),i.updateStyles(),i.updateAttributes(),i.updateText(),"templates"==epkb_editor.preopen&&(epkb_editor.preopen="open_themes",t(".epkb-editor-header__inner__config").click(),t(".epkb-editor-settings-menu__group-item-container[data-name=templates]").click()),void 0!==i.preselectZone&&void 0!==i.currentSettings[i.preselectZone]&&0!=i.iframe.find(i.currentSettings[i.preselectZone].classes).length?(i.iframe.find(i.currentSettings[i.preselectZone].classes).click(),i.preselectZone=void 0,i.removeLoader()):i.removeLoader()},addEditZones:function(){for(let t in this.currentSettings){let e=this.iframe.find(this.currentSettings[t].classes);0!=e.length&&(e.addClass("epkb-editor-zone"),e.data("zone",t))}},bindModalEvents:function(){t(document).on("click","#epkb-editor-close",this,this.hideModal),t("#epkb-editor-exit").on("click",this,this.toggleMode),t(document).on("change keyup","#epkb-editor input, #epkb-editor textarea, #epkb-editor select",this,this.onFieldChange),t(document).on("click","#epkb-editor .epkb-editor-settings__panel-navigation__tab:not(.epkb-editor-settings__panel-navigation__tab--disabled)",this,this.onTabClick),t(document).on("click",".epkb-editor-settings-menu__group-item-container",this,this.onMenuItemClick),t(document).on("click","#epkb-editor .epkb-editor-settings-control__input__linking",this,this.toggleLinkedDimensions),t(document).on("click","#epkb-editor-save",this,this.saveSettings),t(document).on("click",".epkb-close-notice",function(){t(".eckb-bottom-notice-message").remove()}),t(document).on("click",".epkb-editor-header__inner__config",this,this.showSettings),t(document).on("click","#epkb-editor-popup__button-cancel",this,this.onCancelWpEditor),t(document).on("click","#epkb-editor-popup__button-update",this,this.onSaveWpEditor),t(document).on("click",".epkb-editor-settings-wpeditor_button",this,this.showWpEditor),t(document).on("click",".epkb-editor-header__inner__back-btn",this,this.onBackClick),t(document).on("click",".epkb-editor-header__inner__close-btn",this,this.onCloseClick),t("#epkb-editor").on("click",".epkb-editor-header__inner__menu-btn",this,this.showMenu),t("#epkb-editor").on("click","#eprf_edit_feedback_zone",this,function(t){return t.data.iframe.find("#eprf-article-feedback-container").click(),!1})},clearModal:function(){t(".epkb-editor-header__inner__title").html(""),t(".epkb-editor-settings__panel-navigation-container").html(""),t(".epkb-editor-settings__panel-content-container").html(EPKBEditorTemplates.modalTabsBody()),t(".epkb-editor-settings__panel-navigation-container, .epkb-editor-settings__panel-content-container").show(),t(".epkb-editor-settings-menu-container").hide(),this.iframe.find(".epkb-editor-zone__tabs").remove()},showMenuButtons:function(){t(".epkb-editor-header__inner__menu-btn").show(),t(".epkb-editor-header__inner__config").show(),t(".epkb-editor-header__inner__back-btn").hide(),t(".epkb-editor-header__inner__close-btn").hide()},showBackButtons:function(){t(".epkb-editor-header__inner__menu-btn").hide(),t(".epkb-editor-header__inner__config").hide(),t(".epkb-editor-header__inner__back-btn").show(),t(".epkb-editor-header__inner__close-btn").show(),"settings"===this.activeZone&&"menu"===this.activeZone&&"settings_panels"===this.activeZone||(this.lastActiveZone=this.activeZone)},onTabClick:function(e){e.stopPropagation();let i=t(this).data("target");t(".epkb-editor-settings__panel-navigation__tab").removeClass("epkb-editor-settings__panel-navigation__tab--active"),t(".epkb-editor-settings__panel").removeClass("epkb-editor-settings__panel--active"),t(this).addClass("epkb-editor-settings__panel-navigation__tab--active"),t("#epkb-editor-settings-panel-"+i).addClass("epkb-editor-settings__panel--active")},onMenuItemClick:function(e){if("#"!=t(this).attr("href"))return!0;let i=e.data;return t(".epkb-editor-settings-panel-global__links-container, .epkb-editor-settings__panel-navigation-container").hide(),t("#epkb-editor-settings-panel-global>.epkb-editor-settings-control-container").hide(),"templates"==t(this).data("name")&&t("#epkb-editor-settings-templates").show(),"layouts"==t(this).data("name")&&t("#epkb-editor-settings-layouts").show(),i.showBackButtons(),i.activeZone="settings_panels",!1},onBackClick:function(e){e.stopPropagation();let i=e.data;"settings_panels"==i.activeZone?i.showSettings(e):void 0!==i.currentSettings[i.lastActiveZone]?(i.iframe.find(i.currentSettings[i.lastActiveZone].classes).click(),i.showMenuButtons()):(i.clearModal(),t(".epkb-editor-header__inner__title").html(epkb_editor.epkb_name),t(".epkb-editor-settings__panel-content-container").append(EPKBEditorTemplates.notice({icon:"info-circle",title:epkb_editor.clear_modal_notice,style:"edit-zone"})),t(".epkb-editor-settings__help").hide(),i.showMenuButtons())},onCloseClick:function(e){e.stopPropagation();let i=e.data;void 0!==i.currentSettings[i.lastActiveZone]?(i.iframe.find(i.currentSettings[i.lastActiveZone].classes).click(),i.showMenuButtons()):(i.clearModal(),t(".epkb-editor-header__inner__title").html(epkb_editor.epkb_name),t(".epkb-editor-settings__panel-content-container").append(EPKBEditorTemplates.notice({icon:"info-circle",title:epkb_editor.clear_modal_notice,style:"edit-zone"})),t(".epkb-editor-settings__help").hide(),i.showMenuButtons())},onFieldChange:function(e){let i=t(this).attr("name"),n=t(this).val(),s=!1,o=e.data;if("checkbox"==t(this).prop("type")&&(n=t(this).prop("checked")?"on":"off"),"number"==t(this).attr("type")&&""==n&&(void 0!==t(this).attr("min")?n=t(this).attr("min"):void 0!==t(this).attr("max")&&(n=t(this).attr("max"))),t(this).closest("#epkb-editor-settings-panel-hidden").length>0){if(void 0===o.currentSettings[i])return;if("on"==n){for(let t in o.currentSettings[i].disabled_settings){let e=o.getOptionsList(t);e.length<1||(o.currentSettings[i].disabled_settings[t]==e[0]?o.updateOption(t,e[1]):o.updateOption(t,e[0]))}o.preselectZone=i}else for(let t in o.currentSettings[i].disabled_settings)o.updateOption(t,o.currentSettings[i].disabled_settings[t]);o.refreshIframe(o)}else{if(t(this).closest(".epkb-editor-settings-control-type-dimensions").length>0){let e=t(this).closest(".epkb-editor-settings-control-type-dimensions").data("field"),a=t(this).closest(".epkb-editor-settings-control-type-dimensions").find(".epkb-editor-settings-control__input__linking").hasClass("epkb-editor-settings-control__input__linking--active");for(let r in o.currentSettings)if(void 0!==o.currentSettings[r].settings[e]&&void 0!==o.currentSettings[r].settings[e].subfields[i]&&(o.currentSettings[r].settings[e].subfields[i].value=n,void 0!==o.currentSettings[r].settings[e].subfields[i].reload&&(s=!0),a)){t(this).closest(".epkb-editor-settings-control-type-dimensions").find("input").val(n);for(let t in o.currentSettings[r].settings[e].subfields)o.currentSettings[r].settings[e].subfields[t].value=n}}if(t(this).closest(".epkb-editor-settings-control-type-multiple").length>0){let e=t(this).closest(".epkb-editor-settings-control-type-multiple").data("field");for(let t in o.currentSettings)void 0!==o.currentSettings[t].settings[e]&&void 0!==o.currentSettings[t].settings[e].subfields[i]&&(o.currentSettings[t].settings[e].subfields[i].value=n,void 0!==o.currentSettings[t].settings[e].subfields[i].reload&&(s=!0))}for(let t in o.currentSettings)void 0!==o.currentSettings[t].settings[i]&&(o.currentSettings[t].settings[i].value=n,void 0!==o.currentSettings[t].settings[i].reload&&(s=!0));if("article-page"==epkb_editor.page_type){let t=o.currentSettings.left_sidebar.settings,e=o.isLeftPanelActive()?t["article-left-sidebar-desktop-width-v2"].value:0,n=o.currentSettings.right_sidebar.settings,s=o.isRightPanelActive()?n["article-right-sidebar-desktop-width-v2"].value:0;~["article-right-sidebar-desktop-width-v2","article-right-sidebar-tablet-width-v2","article-left-sidebar-desktop-width-v2","article-left-sidebar-tablet-width-v2"].indexOf(i)&&(o.currentSettings.article_content.settings["article-content-desktop-width-v2"].value=100-e-s)}void 0!==o.currentEditorSettings.settings_zone.settings[i]&&(o.currentEditorSettings.settings_zone.settings[i].value=n,void 0!==o.currentEditorSettings.settings_zone.settings[i].reload&&(s=!0)),o.checkTogglers(),o.updateStyles(),o.updateAttributes(),o.updateText(),s&&o.refreshIframe(o)}},addField:function(t,e){switch(e.type){case"color_hex":this.addColorPicker(t,e);break;case"text":this.addText(t,e);break;case"wp_editor":this.addWpEditor(t,e);break;case"header":this.addHeader(t,e);break;case"header_desc":this.addheader_desc(t,e);break;case"select":this.addSelect(t,e);break;case"divider":this.addDivider(t,e);break;case"checkbox":this.addCheckbox(t,e);break;case"number":this.addNumber(t,e);break;case"units":this.addUnits(t,e)}switch(e.group_type){case"dimensions":this.addDimensions(t,e);break;case"multiple":this.addMultiple(t,e)}},addHeader:function(e,i){let n;(n=void 0===i.element_wrapper?t("#epkb-editor-settings-panel-"+i.editor_tab):i.element_wrapper).append(EPKBEditorTemplates.header({name:e,content:i.content}))},addheader_desc:function(e,i){let n;(n=void 0===i.element_wrapper?t("#epkb-editor-settings-panel-"+i.editor_tab):i.element_wrapper).append(EPKBEditorTemplates.header_desc({title:i.title,desc:i.desc}))},addText:function(e,i){let n;(n=void 0===i.element_wrapper?t("#epkb-editor-settings-panel-"+i.editor_tab):i.element_wrapper).append(EPKBEditorTemplates.text({name:e,label:i.label,value:i.value,style:i.style,html:void 0!==i.html,description:void 0===i.description?"":i.description}))},addNumber:function(e,i){let n={name:e,label:i.label,value:i.value,style:i.style,separator_above:i.separator_above,description:void 0===i.description?"":i.description};void 0!==i.style&&(n.style=i.style),void 0!==i.max&&(n.max=i.max),void 0!==i.min&&(n.min=i.min);let s;(s=void 0===i.element_wrapper?t("#epkb-editor-settings-panel-"+i.editor_tab):i.element_wrapper).append(EPKBEditorTemplates.number(n))},addUnits:function(e,i){let n;(n=void 0===i.element_wrapper?t("#epkb-editor-settings-panel-"+i.editor_tab):i.element_wrapper).append(EPKBEditorTemplates.units({name:e,value:i.value,options:i.options}))},addDimensions:function(e,i){let n;(n=void 0===i.element_wrapper?t("#epkb-editor-settings-panel-"+i.editor_tab):i.element_wrapper).append(EPKBEditorTemplates.dimensions({name:e,label:i.label,subfields:i.subfields,units:void 0===i.units?"":i.units,linked:void 0===i.linked?"":i.linked,description:void 0===i.description?"":i.description}))},addMultiple:function(e,i){let n=t(`<div class="epkb-editor-settings-control-type-multiple" data-field="${e}"></div>`);t("#epkb-editor-settings-panel-"+i.editor_tab).append(n);for(let t in i.subfields)i.subfields[t].editor_tab=i.editor_tab,i.subfields[t].element_wrapper=n,this.addField(t,i.subfields[t])},addSelect:function(e,i){let n;(n=void 0===i.element_wrapper?t("#epkb-editor-settings-panel-"+i.editor_tab):i.element_wrapper).append(EPKBEditorTemplates.select({name:e,label:i.label,value:i.value,style:i.style,options:i.options,separator_above:i.separator_above,description:void 0===i.description?"":i.description}))},addCheckbox:function(e,i){let n;(n=void 0===i.element_wrapper?t("#epkb-editor-settings-panel-"+i.editor_tab):i.element_wrapper).append(EPKBEditorTemplates.checkbox({name:e,label:i.label,value:i.value,separator_above:i.separator_above,description:void 0===i.description?"":i.description}))},addColorPicker:function(e,i){let n;(n=void 0===i.element_wrapper?t("#epkb-editor-settings-panel-"+i.editor_tab):i.element_wrapper).append(EPKBEditorTemplates.colorPicker({name:e,label:i.label,value:i.value,separator_above:i.separator_above,description:void 0===i.description?"":i.description}))},addDivider:function(e,i){let n;(n=void 0===i.element_wrapper?t("#epkb-editor-settings-panel-"+i.editor_tab):i.element_wrapper).append(EPKBEditorTemplates.divider())},addWpEditor:function(e,i){let n;(n=void 0===i.element_wrapper?t("#epkb-editor-settings-panel-"+i.editor_tab):i.element_wrapper).append(EPKBEditorTemplates.wpEditor({name:e,label:i.label,value:i.value,description:void 0===i.description?"":i.description}))},showWpEditor:function(e){let i=e.data,n=t(this).closest(".epkb-editor-settings-control-type-wp-editor").data("field"),s=i.getOption(n);return tinymce.get("epkbeditormce")||t(".epkb-editor-popup .wp-editor-wrap .switch-tmce").trigger("click"),tinymce.get("epkbeditormce").setContent(s),t("#epkbeditormce").data("fieldName",n),t(".epkb-editor-popup__header").text(t("textarea[name="+n+"]").closest(".epkb-editor-settings-control__field").find(".epkb-editor-settings-control__title").text()),t(".epkb-editor-popup").addClass("epkb-editor-popup--active"),!1},onSaveWpEditor:function(e){e.data;let i=tinymce.get("epkbeditormce").getContent(),n=t("#epkbeditormce").data("fieldName");t("textarea[name="+n+"]").val(i),t(".epkb-editor-popup").removeClass("epkb-editor-popup--active"),t("textarea[name="+n+"]").trigger("change")},onCancelWpEditor:function(){t(".epkb-editor-popup").removeClass("epkb-editor-popup--active")},onZoneClick:function(e){e.stopPropagation(),t("body").trigger("click.wpcolorpicker");let i=t(this).data("zone"),n=e.data;if(n.showMenuButtons(),n.iframe.find(".epkb-editor-zone").removeClass("epkb-editor-zone--active"),t(this).addClass("epkb-editor-zone--active"),t(this).find(".epkb-editor-zone.hover").removeClass("hover"),n.iframe.find(".epkb-editor-zone__tabs").remove(),n.clearModal(),t(".epkb-editor-header__inner__title").html(n.currentSettings[i].title),void 0===n.currentSettings[i])return t(".epkb-editor-header__inner__title").html(epkb_editor.epkb_name),t(".epkb-editor-settings__panel-content-container").append(EPKBEditorTemplates.notice({title:epkb_editor.no_settings})),n.activeZone="",!0;n.activeZone=i;let s=[];for(let t in n.currentSettings[i].settings)~s.indexOf(n.currentSettings[i].settings[t].editor_tab)||s.push(n.currentSettings[i].settings[t].editor_tab);t(".epkb-editor-settings__panel-navigation-container").append(EPKBEditorTemplates.modalTabsHeader(s));for(let t in n.currentSettings[i].settings)n.addField(t,n.currentSettings[i].settings[t]);t("#epkb-editor-settings-panel-content").html()||(t("#epkb-editor-settings-panel-content").removeClass("epkb-editor-settings__panel--active"),t("#epkb-editor-settings-panel-"+s[0]).addClass("epkb-editor-settings__panel--active")),n.addTabsToZone(t(this)),n.activateColorPickers(),n.activateSliders(),n.checkTogglers(),n.showModal()},addTabsToZone:function(t){if(this.iframe.find(".epkb-editor-zone__tabs").remove(),!this.activeZone)return;let e=this.currentSettings[this.activeZone].zone_tab_title;void 0===e&&(e=this.currentSettings[this.activeZone].title);let i=t,n=`\n\t\t\t\t<div class="epkb-editor-zone__tabs">\n\t\t\t\t\t<div class="epkb-editor-zone__tab--active">${e}</div>\n\t\t\t`,s=i.parents(".epkb-editor-zone").eq(0);s.length&&void 0!==this.currentSettings[s.data("zone")].parent_zone_tab_title&&(n+=`<div class="epkb-editor-zone__tab--parent" data-zone="${s.data("zone")}">${this.currentSettings[s.data("zone")].parent_zone_tab_title}</div>`),n+="</div>",i.append(n)},toggleLinkedDimensions(e){if(t(this).hasClass("epkb-editor-settings-control__input__linking--active"))return t(this).removeClass("epkb-editor-settings-control__input__linking--active"),!0;let i=t(this).closest(".epkb-editor-settings-control__fields").find("input").first();t(this).addClass("epkb-editor-settings-control__input__linking--active"),t(this).closest(".epkb-editor-settings-control__fields").find("input").val(i.val()),i.change()},updateStyles:function(){this.styles.html("");for(let t in this.currentSettings)for(let e in this.currentSettings[t].settings){let i=this.currentSettings[t].settings[e];if("string"==typeof i.toggler){if("off"==this.getOption(i.toggler))continue}else if("object"==typeof i.toggler){let t=!0;for(let e in i.toggler){this.getOption(e)!==i.toggler[e]&&(t=!1)}if(!t)continue}let n="!important";if(void 0===i.style_important||i.style_important||(n=""),"dimensions"!=i.group_type){if("multiple"==i.group_type){if("undefined"==i.style_template||"undefined"==i.target_selector||"undefined"==i.style_name)continue;let t=i.style_template;for(let e in i.subfields){let n=i.subfields[e];t=t.replace(e,n.value+this.getPostfix(n.postfix))}this.styles.append(`\n\t\t\t\t\t\t\t${i.target_selector} {\n\t\t\t\t\t\t\t\t${i.style_name}: ${t}${n};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t`)}if(void 0!==i.styles)for(let t in i.styles)this.styles.append(`\n\t\t\t\t\t\t\t\t${t} {\n\t\t\t\t\t\t\t\t\t${i.styles[t]}: ${i.value}${this.getPostfix(i.postfix)}${n};\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t`);void 0!==i.target_selector&&void 0!==i.style_name&&("#eckb-article-page-container-v2 #eckb-article-right-sidebar"==i.target_selector&&(console.log(e),console.log(i.target_selector),console.log(i.style_name)),this.styles.append(`\n\t\t\t\t\t\t${i.target_selector} {\n\t\t\t\t\t\t\t${i.style_name}: ${i.value}${this.getPostfix(i.postfix)}${n};\n\t\t\t\t\t\t}\n\t\t\t\t\t`))}else for(let t in i.subfields){let e=i.subfields[t];if(void 0!==e.styles)for(let t in e.styles)this.styles.append(`\n\t\t\t\t\t\t\t\t\t\t${t} {\n\t\t\t\t\t\t\t\t\t\t\t${e.styles[t]}: ${e.value}${this.getPostfix(e.postfix)}${n};\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t`);void 0!==e.target_selector&&void 0!==e.style_name&&this.styles.append(`\n\t\t\t\t\t\t\t\t${e.target_selector} {\n\t\t\t\t\t\t\t\t\t${e.style_name}: ${e.value}${this.getPostfix(e.postfix)}${n};\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t`)}}if("article-page"==epkb_editor.page_type){let t,e=this.currentSettings.left_sidebar.settings,i=this.currentSettings.right_sidebar.settings,n=0,s=0;this.isLeftPanelActive()&&(n=e["article-left-sidebar-desktop-width-v2"].value?e["article-left-sidebar-desktop-width-v2"].value:20),this.isRightPanelActive()&&(s=i["article-right-sidebar-desktop-width-v2"].value?i["article-right-sidebar-desktop-width-v2"].value:20),t=100-n-s,this.currentSettings.left_sidebar.settings["article-left-sidebar-desktop-width-v2"].value=n,this.currentSettings.right_sidebar.settings["article-right-sidebar-desktop-width-v2"].value=s,this.currentSettings.article_content.settings["article-content-desktop-width-v2"].value=t,this.styles.append(`\n\t\t\t\t\t\t#eckb-article-page-container-v2 #eckb-article-body {\n\t\t\t\t\t\t\tgrid-template-columns: ${n}% ${t}% ${s}%!important;\n\t\t\t\t\t\t}\n\t\t\t\t\t`)}},updateAttributes:function(){for(let t in this.currentSettings)for(let e in this.currentSettings[t].settings){let i=this.currentSettings[t].settings[e];if(void 0===i.target_attr)continue;if("string"==typeof i.toggler){if("off"==this.getOption(i.toggler))continue}else if("object"==typeof i.toggler){let t=!0;for(let e in i.toggler){this.getOption(e)!==i.toggler[e]&&(t=!1)}if(!t)continue}let n=i.target_attr.split("|");for(let t of n)this.iframe.find(i.target_selector).prop(t,i.value)}},updateText:function(){for(let t in this.currentSettings)for(let e in this.currentSettings[t].settings){let i=this.currentSettings[t].settings[e];if("string"==typeof i.toggler){if("off"==this.getOption(i.toggler))continue}else if("object"==typeof i.toggler){let t=!0;for(let e in i.toggler){this.getOption(e)!==i.toggler[e]&&(t=!1)}if(!t)continue}void 0!==i.text&&this.iframe.find(i.target_selector).text(this.decodeHtml(i.value)),void 0!==i.html&&this.iframe.find(i.target_selector).html(i.value)}},checkTogglers:function(){if(""!=this.activeZone&&void 0!==this.currentSettings[this.activeZone])for(let e in this.currentSettings[this.activeZone].settings){let i=this.currentSettings[this.activeZone].settings[e];if(void 0===i.toggler)continue;let n=!1;if("string"==typeof i.toggler&&(n="on"==this.getOption(i.toggler)),"object"==typeof i.toggler){n=!0;for(let t in i.toggler){this.getOption(t)!==i.toggler[t]&&(n=!1)}}n?t("[data-field="+e+"]").show():t("[data-field="+e+"]").hide()}},refreshIframe:function(t){t.showLoader(),0==t.iframe.find("#epkb-settings-form").length&&t.iframe.find("body").append(`\n\t\t\t\t\t<form id="epkb-settings-form" method="post">\n\t\t\t\t\t\t<input type="hidden" name="epkb-editor-settings">\n\t\t\t\t\t\t<input type="hidden" name="epkb-editor" value="1">\n\t\t\t\t\t\t<input type="hidden" name="epkb-editor-kb-id" value="${epkb_editor.epkb_editor_kb_id}">\n\t\t\t\t\t</form>\n\t\t\t\t`);let e=Object.assign({},t.currentSettings,t.currentEditorSettings);for(let t in e)for(let i in e[t].settings)delete e[t].settings[i].element_wrapper;delete e.themes,t.iframe.find("#epkb-settings-form input[name=epkb-editor-settings]").val(JSON.stringify(e)),t.iframe.find("#epkb-settings-form").submit()},activateColorPickers:function(){t("#epkb-editor").find(".epkb-editor-settings-control-type-color input").length&&t("#epkb-editor").find(".epkb-editor-settings-control-type-color input").wpColorPicker({change:function(e,i){setTimeout(function(){t(e.target).trigger("change")},50)},clear:function(e,i){let n=t(e.target).closest(".epkb-editor-settings-control__input").find(".wp-picker-input-wrap label input[type=text]");n.length<1||void 0!==n.data("default_color")&&n.iris("color",n.data("default_color"))}})},activateSliders:function(){t(".epkb-editor-settings-control-type-number--slider .epkb-editor-settings-control__slider").each(function(){let e=t(this).closest(".epkb-editor-settings-control-container").find("input"),i=t(this);i.slider({max:parseFloat(e.prop("max")),min:parseFloat(e.prop("min")),value:parseFloat(e.val()),change:function(t,i){e.val(i.value),e.trigger("change",["updateSlider"])}}),e.change(function(e,n){if("updateSlider"==n)return!0;i.slider("option","value",parseFloat(t(this).val()))})})},toggleMode:function(e){let i=e.data;if(t("body").hasClass("epkb-edit-mode")){let t,e=location.href.split("?")[0],i=[],s=-1!==location.href.indexOf("?")?location.href.split("?")[1]:"";if(""!==s){for(var n=(i=s.split("&")).length-1;n>=0;n-=1)"preopen"===(t=i[n].split("=")[0])&&i.splice(n,1);e=e+"?"+i.join("&")}location.href==e?location.reload():location.href=e}else t("#wp-admin-bar-epkb-edit-mode-button a").text(epkb_editor.turned_on),t("body").addClass("epkb-edit-mode"),i.showModal()},showModal:function(){t("body").addClass("epkb-editor--active"),t("#epkb-editor-iframe").show()},hideModal:function(){t("body").removeClass("epkb-editor--active")},showLoader:function(){t(".epkb-frontend-loader").addClass("epkb-frontend-loader--active")},removeLoader:function(){setTimeout(function(){t(".epkb-frontend-loader").removeClass("epkb-frontend-loader--active")},200)},showMessage:function(e={}){let i="";i=void 0===e.html?EPKBEditorTemplates.message(e):e.html,t(".eckb-bottom-notice-message").remove(),t("body").append(i),setTimeout(function(){t(".eckb-bottom-notice-message").remove()},5e3)},decodeHtml:function(t){var e=document.createElement("textarea");return e.innerHTML=t,e.value},saveSettings:function(e){e.preventDefault();let i=e.data,n={},s=Object.assign({},i.currentSettings,i.currentEditorSettings);delete s.themes;for(let t in s){let e=s[t].settings;for(let t in e){let i=e[t];if(void 0===i.group_type)n[t]=i.value;else for(let t in i.subfields)n[t]=i.subfields[t].value}}let o={action:"eckb_apply_editor_changes",_wpnonce_apply_editor_changes:epkb_editor._wpnonce_apply_editor_changes,kb_config:n,epkb_editor_kb_id:epkb_editor.epkb_editor_kb_id,page_type:epkb_editor.page_type};t.ajax({type:"POST",dataType:"json",data:o,url:epkb_editor.ajaxurl,beforeSend:function(t){i.showLoader()}}).done(function(t){void 0===t.error?i.showMessage({text:t.message}):i.showMessage({html:t.message,type:"error"})}).always(function(){i.removeLoader()})},showMenu:function(e){let i=e.data;e.stopPropagation(),t("body").trigger("click.wpcolorpicker"),i.clearModal(),t(".epkb-editor-header__inner__title").html(epkb_editor.epkb_name),t(".epkb-editor-settings__panel-navigation-container, .epkb-editor-settings__panel-content-container").hide(),t(".epkb-editor-settings-menu-container").show(),i.showBackButtons(),i.activeZone="menu"},showSettings:function(e){e.stopPropagation(),t("body").trigger("click.wpcolorpicker");let i=e.data;i.clearModal(),t(".epkb-editor-header__inner__title").html(epkb_editor.epkb_name),t(".epkb-editor-settings__panel-navigation-container").append(EPKBEditorTemplates.modalTabsHeaderSettings()),t("#epkb-editor-settings-panel-content").removeClass("epkb-editor-settings__panel--active"),t("#epkb-editor-settings-panel-global").addClass("epkb-editor-settings__panel--active"),t("#epkb-editor-settings-panel-global").append(epkb_editor.settings_html),t(".epkb-editor-settings-control-image-select input[value="+epkb_editor_settings.settings_zone.settings.templates_for_kb.value+"]").prop("checked","checked"),t(".epkb-editor-settings-control-image-select input[value="+epkb_editor_settings.settings_zone.settings.kb_main_page_layout.value+"]").prop("checked","checked"),t(".epkb-editor-settings-panel-global__links-container").append(("main-page"==epkb_editor.page_type?EPKBEditorTemplates.menuLinks("#","templates","sliders","Theme"):"")+("main-page"==epkb_editor.page_type?EPKBEditorTemplates.menuLinks("#","layouts","sitemap","Layouts"):"")+EPKBEditorTemplates.menuLinks(epkb_editor.kb_url+"&page=epkb-kb-configuration&wizard-global","urls","globe","URLs and Slug")+EPKBEditorTemplates.menuLinks(epkb_editor.kb_url+"&page=epkb-kb-configuration&wizard-ordering","ordering","object-group","Order Categories and Articles"));for(let e in i.currentEditorSettings.settings_zone.settings){let n=i.currentEditorSettings.settings_zone.settings[e];n.element_wrapper=t("#epkb-editor-settings-panel-global"),i.addField(e,n)}for(let t in i.currentSettings){if(void 0===i.currentSettings[t].disabled_settings)continue;let e=i.currentSettings[t],n=!1;for(let t in e.disabled_settings){i.getOption(t)!=e.disabled_settings[t]&&(n=!0)}n||i.addCheckbox(t,{label:e.title,value:n?"on":"off",editor_tab:"hidden"})}i.showBackButtons(),i.activeZone="settings"},getOption:function(t){for(let e in this.currentSettings)for(let i in this.currentSettings[e].settings){let n=this.currentSettings[e].settings[i];if(t==i)return n.value;if("dimensions"==n.group_type||"multiple"==n.group_type){if(void 0===n.subfields[t])continue;return n.subfields[t].value}}return!1},updateOption:function(t,e){for(let i in this.currentSettings)for(let n in this.currentSettings[i].settings){let s=this.currentSettings[i].settings[n];if(t==n&&(this.currentSettings[i].settings[n].value=e),"dimensions"==s.group_type||"multiple"==s.group_type){if(void 0===s.subfields[t])continue;this.currentSettings[i].settings[n].subfields[t].value=e}}},getOptionsList:function(t){for(let e in this.currentSettings)for(let i in this.currentSettings[e].settings){let n=this.currentSettings[e].settings[i];if(t==i&&"checkbox"==n.type)return["on","off"];if(t==i&&"select"==n.type)return Object.keys(n.options);if("multiple"==n.group_type){if(void 0===n.subfields[t])continue;if("checkbox"==n.subfields[t].type)return["on","off"];if("select"==n.subfields[t].type)return Object.keys(n.subfields[t].options)}}return[]},isLeftPanelActive:function(){return this.iframe.find("#eckb-article-left-sidebar div").length&&this.iframe.find("#eckb-article-left-sidebar").width()||"on"==this.getOption("article-left-sidebar-toggle")},isRightPanelActive:function(){return this.iframe.find("#eckb-article-right-sidebar div").length&&this.iframe.find("#eckb-article-right-sidebar").width()||"on"==this.getOption("article-right-sidebar-toggle")},getPostfix:function(t){if(void 0===t||""==t)return"";let e=this.getOption(t);return!1===e?t:e}},window.EPKBEditorTemplates={divider:function(){return'<div class="epkb-editor-settings-separator"></div>'},select:function(t){let e="";void 0!==(t=Object.assign({name:"",label:"",value:"",style:"",separator_above:"",description:""},t)).separator_above&&"yes"===t.separator_above&&(e+=' <div class="epkb-editor-settings-control-separator"></div>'),void 0===t.style&&(t.style="full"),e+=`\n\t\t\t\t<div class="epkb-editor-settings-control-container epkb-editor-settings-control-type-select epkb-editor-settings-control-type-select--${t.style}" data-field="${t.name}">\n\t\t\t\t\t<div class="epkb-editor-settings-control__field">\n\t\t\t\t\t\t<label class="epkb-editor-settings-control__title">${t.label}</label>\n\t\t\t\t\t\t<div class="epkb-editor-settings-control__input">\n\t\t\t\t\t\t\t<select name="${t.name}" value="${t.value}">\n\t\t\t`;for(let i in t.options)e+=`\n\t\t\t\t\t\t\t\t<option value="${i}" ${t.value==i?'selected="selected"':""}>${t.options[i]}</option>\n\t\t\t\t`;return e+=`\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t${t.description?'<div class="epkb-editor-settings-control__description">'+t.description+"</div>":""}\n\t\t\t\t</div>\n\t\t\t`},units:function(t){let e="";e+=`\n\t\t\t\t<div class="epkb-editor-settings-control-container epkb-editor-settings-control-type-units" data-field="${(t=Object.assign({name:"",value:"",options:[]},t)).name}">\n\t\t\t\t\t<div class="epkb-editor-settings-control__field">\n\t\t\t\t\t\t<div class="epkb-editor-settings-control__input">\n\t\t\t`;for(let i in t.options)e+=`\n\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t<input type="radio" name="${t.name}" value="${i}" ${t.value==i?'checked="checked"':""}>\n\t\t\t\t\t\t\t\t<span>${t.options[i]}</span>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t`;return e+="\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t"},checkbox:function(t){let e="";return void 0!==(t=Object.assign({name:"",label:"",value:"",separator_above:"",description:""},t)).separator_above&&"yes"===t.separator_above&&(e+=' <div class="epkb-editor-settings-control-separator"></div>'),e+=`\n\t\t\t\t<div class="epkb-editor-settings-control-container epkb-editor-settings-control-type-toggle" data-field="${t.name}">\n\t\t\t\t\t<div class="epkb-editor-settings-control__field">\n\t\t\t\t\t\t<label class="epkb-editor-settings-control__title">${t.label}</label>\n\t\t\t\t\t\t<div class="epkb-editor-settings-control__input">\n\t\t\t\t\t\t\t<label class="epkb-editor-settings-control-toggle">\n\t\t\t\t\t\t\t\t<input type="checkbox" class="epkb-editor-settings-control__input__toggle" value="yes" name="${t.name}" ${"on"==t.value?'checked="checked"':""}>\n\t\t\t\t\t\t\t\t<span class="epkb-editor-settings-control__input__label" data-on="${epkb_editor.checkbox_on}" data-off="${epkb_editor.checkbox_off}"></span>\n\t\t\t\t\t\t\t\t<span class="epkb-editor-settings-control__input__handle"></span>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t${t.description?'<div class="epkb-editor-settings-control__description">'+t.description+"</div>":""}\n\t\t\t\t</div>\n\t\t\t`},text:function(t){return void 0===(t=Object.assign({name:"",label:"",value:"",style:"",description:"",html:!1},t)).style&&(t.style="full"),t.html?`\n\t\t\t\t\t<div class="epkb-editor-settings-control-container epkb-editor-settings-control-type-text epkb-control-text--${t.style}" data-field="${t.name}">\n\t\t\t\t\t\t<div class="epkb-editor-settings-control__field">\n\t\t\t\t\t\t\t<label class="epkb-editor-settings-control__title">${t.label}</label>\n\t\t\t\t\t\t\t<div class="epkb-editor-settings-control__input">\n\t\t\t\t\t\t\t\t<textarea name="${t.name}">${t.value}</textarea>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t${t.description?'<div class="epkb-editor-settings-control__description">'+t.description+"</div>":""}\n\t\t\t\t\t</div>\n\t\t\t\t`:`\n\t\t\t\t<div class="epkb-editor-settings-control-container epkb-editor-settings-control-type-text epkb-control-text--${t.style}" data-field="${t.name}">\n\t\t\t\t\t<div class="epkb-editor-settings-control__field">\n\t\t\t\t\t\t<label class="epkb-editor-settings-control__title">${t.label}</label>\n\t\t\t\t\t\t<div class="epkb-editor-settings-control__input">\n\t\t\t\t\t\t\t<input type="text" name="${t.name}" value="${t.value}" >\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t${t.description?'<div class="epkb-editor-settings-control__description">'+t.description+"</div>":""}\n\t\t\t\t</div>\n\t\t\t`},dimensions:function(t){if(t=Object.assign({label:"",units:"",name:"",description:"",subfields:{}},t),Object.keys(t.subfields).length<1)return this.notice({title:epkb_editor.wrong_dimensions});let e,i=`\n\t\t\t\t<div class="epkb-editor-settings-control-container epkb-editor-settings-control-type-dimensions epkb-editor-settings-control-type-dimensions--count-${Object.keys(t.subfields).length}" data-field="${t.name}">\n\t\t\t\t\t<div class="epkb-editor-settings-control__header">\n\t\t\t\t\t\t<div class="epkb-editor-settings-control__header__label">${t.label}</div>\n\t\t\t\t\t\t<div class="epkb-editor-settings-control__header__units">${t.units}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="epkb-editor-settings-control__fields">\n\t\t\t`,n=!0;for(let i in t.subfields)void 0===e&&(e=t.subfields[i].value),e!==t.subfields[i].value&&(n=!1);for(let e in t.subfields)i+=`\n\t\t\t\t\t<div class="epkb-editor-settings-control__input ${n?"epkb-editor-settings-control__input__linking--active":""}">\n\t\t\t\t\t\t<input type="number" name="${e}" value="${t.subfields[e].value}" data-parentGroup="${t.name}">\n\t\t\t\t\t\t<span class="epkb-editor-settings-control__input__label">${t.subfields[e].label}</span>\n\t\t\t\t\t</div>\n\t\t\t\t`;return i+=` \n\t\t\t\t\t\t<div class="epkb-editor-settings-control__input">\n\t\t\t\t\t\t\t<button class="epkb-editor-settings-control__input__linking"><span class="epkbfa epkbfa-link" aria-hidden="true"></span></button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t${t.description?'<div class="epkb-editor-settings-control__description">'+t.description+"</div>":""}\n\t\t\t\t</div>\n\t\t\t`},number:function(t){let e="";return void 0!==(t=Object.assign({name:"",label:"",value:"",style:"",min:0,max:100,separator_above:"",description:""},t)).separator_above&&"yes"===t.separator_above&&(e+=' <div class="epkb-editor-settings-control-separator"></div>'),void 0===t.style&&(t.style="default"),e+=`\n\t\t\t\t<div class="epkb-editor-settings-control-container epkb-editor-settings-control-type-number epkb-editor-settings-control-type-number--${t.style}" data-field="${t.name}">\n\t\t\t\t\t<div class="epkb-editor-settings-control__field">\n\t\t\t\t\t\t<label class="epkb-editor-settings-control__title">${t.label}</label>\n\t\t\t\t\t\t<div class="epkb-editor-settings-control__input">\n\t\t\t\t\t\t\t<input type="number" name="${t.name}" value="${t.value}" min="${t.min}" max="${t.max}">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="epkb-editor-settings-control__slider"></div>\n\t\t\t\t\t${t.description?'<div class="epkb-editor-settings-control__description">'+t.description+"</div>":""}\n\t\t\t\t</div>\n\t\t\t`},header:function(t){return t=Object.assign({content:"",name:""},t),`\n\t\t\t\t<div class="epkb-editor-settings-control-container epkb-editor-settings-control-type-header" data-field="${t.name}">\n\t\t\t\t\t${t.content}\n\t\t\t\t</div>\n\t\t\t`},header_desc:function(t){return t=Object.assign({title:"",desc:""},t),`\n\t\t\t\t<div class="epkb-editor-settings-control-container epkb-editor-settings-control-type-header-desc">\n\t\t\t\t\t<div class="epkb-editor-settings-control-type-header-desc__title">${t.title}</div>\n\t\t\t\t\t<div class="epkb-editor-settings-control-type-header-desc__desc">${t.desc}</div>\n\t\t\t\t</div>\n\t\t\t`},colorPicker:function(t){let e="";return void 0!==(t=Object.assign({name:"",label:"",value:"",separator_above:"",description:""},t)).separator_above&&"yes"===t.separator_above&&(e+=' <div class="epkb-editor-settings-control-separator"></div>'),e+=`\n\t\t\t\n\t\t\t\t<div class="epkb-editor-settings-control-container epkb-editor-settings-control-type-color" data-field="${t.name}">\n\t\t\t\t\t<div class="epkb-editor-settings-control__field">\n\t\t\t\t\t\t<label class="epkb-editor-settings-control__title">${t.label}</label>\n\t\t\t\t\t\t<div class="epkb-editor-settings-control__input">\n\t\t\t\t\t\t\t<input type="text" name="${t.name}" value="${t.value}" data-default_color="${t.value}">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t${t.description?'<div class="epkb-editor-settings-control__description">'+t.description+"</div>":""}\n\t\t\t\t</div>\n\t\t\t`},wpEditor:function(t){return t=Object.assign({name:"",label:"",value:"",description:""},t),`\n\t\t\t\t<div class="epkb-editor-settings-control-container epkb-editor-settings-control-type-wp-editor" data-field="${t.name}">\n\t\t\t\t\t<div class="epkb-editor-settings-control__field">\n\t\t\t\t\t\t<label class="epkb-editor-settings-control__title">${t.label}</label>\n\t\t\t\t\t\t<div class="epkb-editor-settings-control__input">\n\t\t\t\t\t\t\t<textarea style="display: none;" name="${t.name}">\n\t\t\t\t\t\t\t\t${t.value}\n\t\t\t\t\t\t\t</textarea>\n\t\t\t\t\t\t\t<button class="epkb-editor-settings-wpeditor_button">${epkb_editor.edit_button}</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t${t.description?'<div class="epkb-editor-settings-control__description">'+t.description+"</div>":""}\n\t\t\t\t</div>\n\t\t\t`},modalHeader:function(){return`\n\t\t\t\t\x3c!-- Header Container --\x3e\n\t\t\t\t\t<header class="epkb-editor-header-container">\n\t\t\t\t\t\t<div class="epkb-editor-header__inner">\n\t\t\t\t\t\t\t<div class="epkb-editor-header__inner__menu-btn"><span class="epkbfa epkbfa-bars"></span></div>\n\t\t\t\t\t\t\t<div class="epkb-editor-header__inner__back-btn"><span class="epkbfa epkbfa-chevron-left"></span></div>\n\t\t\t\t\t\t\t<div class="epkb-editor-header__inner__title">${epkb_editor.epkb_name}</div>\n\t\t\t\t\t\t\t<div class="epkb-editor-header__inner__config"><span class="epkbfa epkbfa-cog"></span></div>\n\t\t\t\t\t\t\t<div class="epkb-editor-header__inner__close-btn"><span class="epkbfa epkbfa-times"></span></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</header>\n\t\t\t\t\x3c!-- /Header Container --\x3e`},modalTabsHeader:function(t=[]){if(0==t.length)return"";let e,i="",n=!0;return~t.indexOf("content")&&n?(e="epkb-editor-settings__panel-navigation__tab--active",n=!1):e=~t.indexOf("content")?"":"epkb-editor-settings__panel-navigation__tab--disabled",i+=`\n\t\t\t\t<div id="epkb-editor-settings-tab-content"  class="epkb-editor-settings__panel-navigation__tab  ${e}" data-target="content">\n\t\t\t\t\t<span class="epkb-editor-settings__panel-navigation__tab__icon"><span class="epkbfa epkbfa-pencil"></span></span>\n\t\t\t\t\t<span class="epkb-editor-settings__panel-navigation__tab__title">${epkb_editor.tab_content}</span>\n\t\t\t\t</div>`,~t.indexOf("style")&&n?(e="epkb-editor-settings__panel-navigation__tab--active",n=!1):e=~t.indexOf("style")?"":"epkb-editor-settings__panel-navigation__tab--disabled",i+=`\n\t\t\t\t<div id="epkb-editor-settings-tab-style"  class="epkb-editor-settings__panel-navigation__tab ${e}" data-target="style">\n\t\t\t\t\t<span class="epkb-editor-settings__panel-navigation__tab__icon"><span class="epkbfa epkbfa-adjust"></span></span>\t\t\t\t\t\t\n          <span class="epkb-editor-settings__panel-navigation__tab__title">${epkb_editor.tab_style}</span>\n\t\t\t\t</div>\n\t\t\t`,~t.indexOf("features")&&n?(e="epkb-editor-settings__panel-navigation__tab--active",n=!1):e=~t.indexOf("features")?"":"epkb-editor-settings__panel-navigation__tab--disabled",i+=`\n\t\t\t\t<div id="epkb-editor-settings-tab-features"  class="epkb-editor-settings__panel-navigation__tab ${e}" data-target="features">\n\t\t\t\t\t<span class="epkb-editor-settings__panel-navigation__tab__icon"><span class="epkbfa epkbfa-puzzle-piece"></span></span>\n\t\t\t\t\t<span class="epkb-editor-settings__panel-navigation__tab__title">${epkb_editor.tab_features}</span>\n\t\t\t\t</div>\n\t\t\t`,~t.indexOf("advanced")&&n?(e="epkb-editor-settings__panel-navigation__tab--active",n=!1):e=~t.indexOf("advanced")?"":"epkb-editor-settings__panel-navigation__tab--disabled",i+=`\n\t\t\t\t<div id="epkb-editor-settings-tab-advanced"  class="epkb-editor-settings__panel-navigation__tab ${e}" data-target="advanced">\n\t\t\t\t\t<span class="epkb-editor-settings__panel-navigation__tab__icon"><span class="epkbfa epkbfa-cogs"></span></span>\n\t\t\t\t\t<span class="epkb-editor-settings__panel-navigation__tab__title">${epkb_editor.tab_advanced}</span>\n\t\t\t\t</div>`},modalTabsHeaderSettings:function(){return`\n\t\t\t\t<div id="epkb-editor-settings-tab-global"  class="epkb-editor-settings__panel-navigation__tab epkb-editor-settings__panel-navigation__tab--active" data-target="global">\n\t\t\t\t\t<span class="epkb-editor-settings__panel-navigation__tab__icon"><span class="epkbfa epkbfa-globe"></span></span>\n\t\t\t\t\t<span class="epkb-editor-settings__panel-navigation__tab__title">${epkb_editor.tab_global}</span>\n\t\t\t\t</div>\n\t\t\t\t<div id="epkb-editor-settings-tab-hidden"  class="epkb-editor-settings__panel-navigation__tab" data-target="hidden">\n\t\t\t\t\t<span class="epkb-editor-settings__panel-navigation__tab__icon"><span class="epkbfa epkbfa-eye-slash"></span></span>\t\t\t\t\t\t\n          <span class="epkb-editor-settings__panel-navigation__tab__title">${epkb_editor.tab_hidden}</span>\n\t\t\t\t</div>\n\t\t\t`},modalTabsBody:function(t=[]){return'\n\t\t\t\t<div id="epkb-editor-settings-panel-content" class="epkb-editor-settings__panel epkb-editor-settings__panel--active" data-panel="content"></div>\n\t\t\t\t<div id="epkb-editor-settings-panel-style" class="epkb-editor-settings__panel" data-panel="style"></div>\n\t\t\t\t<div id="epkb-editor-settings-panel-features" class="epkb-editor-settings__panel" data-panel="features"></div>\n\t\t\t\t<div id="epkb-editor-settings-panel-advanced" class="epkb-editor-settings__panel" data-panel="advanced"></div>\n\t\t\t\t<div id="epkb-editor-settings-panel-global" class="epkb-editor-settings__panel" data-panel="global">\n\t\t\t\t\t<div class="epkb-editor-settings-panel-global__links-container"></div>\n\t\t\t\t\t<div class="epkb-editor-settings-panel-global__settings-container"></div>\n\t\t\t\t\n\t\t\t\t</div>\n\t\t\t\t<div id="epkb-editor-settings-panel-hidden" class="epkb-editor-settings__panel" data-panel="hidden"></div>\n\t\t\t\t<div class="epkb-editor-settings__help">\n\t\t\t\t\t<a href="https://www.echoknowledgebase.com/front-end-editor-support-and-questions/" target="_blank">\n\t\t\t\t\t\t<span class="">Need Help</span>\n\t\t\t\t\t\t<span class="epkbfa epkbfa-question-circle-o"></span>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t'},modalSettingsContainer:function(t={}){let e="";return e+='\n\t\t\t\t\x3c!-- Settings Container --\x3e\n\t\t\t\t<main class="epkb-editor-settings-container">\n\t\t\t\t\t<div class="epkb-editor-settings__inner">\n\t\t\t',void 0!==t.tabs&&(e+=`\n\t\t\t\t\t\x3c!-- Panel Navigation --\x3e\n\t\t\t\t\t<div class="epkb-editor-settings__panel-navigation-container">\n\t\t\t\t\t\t${this.modalTabsHeader(t.tabs)}\n\t\t\t\t\t</div>\n\t\t\t\t\t\x3c!-- /Panel Navigation --\x3e\n\t\t\t\t\t\x3c!-- Panels Content --\x3e\n\t\t\t\t\t<div class="epkb-editor-settings__panel-content-container">\n\t\t\t\t\t\t${this.modalTabsBody()}\n\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t\t\x3c!-- /Panels Content --\x3e\n\t\t\t\t\t\n\t\t\t\t\t${epkb_editor.menu_links_html}\n\t\t\t\t\t\n\t\t\t\t`),e+="\n\t\t\t\t\t</div>\n\t\t\t\t</main>\n\t\t\t\t\x3c!-- /Settings Container --\x3e\n\t\t\t"},modalFooter:function(){return`\n\t\t\t\t<footer class="epkb-editor-footer-container">\n\t\t\t\t\t<nav class="epkb-editor-footer-nav">\n\t\t\t\t\t\t<div class="epkb-editor-footer-nav__item epkb-editor-footer-nav__item-icon"><span class="epkbfa epkbfa-reply-all"></span></div>\n\t\t\t\t\t\t<div class="epkb-editor-footer-nav__item epkb-editor-footer-nav__item-icon"><span class="epkbfa epkbfa-eye"></span></div>\n\t\t\t\t\t\t<div class="epkb-editor-footer-nav__item epkb-editor-footer-nav__item-btn">\n\t\t\t\t\t\t\t<button id="epkb-editor-exit" class="epkb-editor-btn epkb-editor-exit">${epkb_editor.exit_button}</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="epkb-editor-footer-nav__item epkb-editor-footer-nav__item-btn">\n\t\t\t\t\t\t\t<button id="epkb-editor-save" class="epkb-editor-btn epkb-editor-save">${epkb_editor.save_button}</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</nav>\n\t\t\t\t</footer>\n\t\t\t\t\n\t\t\t\t<div id="epkb-editor-close">&times;</div>\n\t\t\t`},modalWindow:function(){return`\n\t\t\t\t<div id="epkb-editor" class="epkb-editor-container">\n\t\t\t\t\t${this.modalHeader()}\n\t\t\t\t\t${this.modalSettingsContainer({tabs:[]})}\n\t\t\t\t\t${this.modalFooter()}\n\t\t\t\t</div>\n\t\t\t`},notice:function(t={}){return t=Object.assign({icon:"exclamation-triangle",title:"",message:"",style:"default"},t),`\n\t\t\t\t<div class="epkb-editor-settings-control-container epkb-editor-settings-control-type-notice epkb-editor-settings-control-type-notice--${t.style}">\n\t\t\t\t\t<div class="epkb-editor-notice__icon"><span class="epkbfa epkbfa-${t.icon}"></span></div>\n\t\t\t\t\t<div class="epkb-editor-notice__body">\n\t\t\t\t\t\t<div class="epkb-editor-notice__title">${t.title}</div>\n\t\t\t\t\t\t<div class="epkb-editor-notice__message">${t.message}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`},message:function(t={}){return void 0===t.title?t.title="":t.title="<h4>"+t.title+"</h4>",void 0===t.text&&(t.text=""),void 0===t.type&&(t.type="success"),`\n\t\t\t\t<div class="eckb-bottom-notice-message">\n\t\t\t\t\t<div class="contents">\n\t\t\t\t\t\t<span class="${t.type}">\n\t\t\t\t\t\t\t${t.title}\n\t\t\t\t\t\t\t<p>${t.text}</p>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class='epkb-close-notice epkbfa epkbfa-window-close'></div>\n\t\t\t\t</div>\n\t\t\t`},menuLinks:function(t,e,i,n){return`\n\t\t\t\t<a href="${t}" data-name="${e}" class="epkb-editor-settings-menu__group-item-container" target="_blank">\n\t\t\t\t\t<div class="epkb-editor-settings-menu__group-item__icon epkbfa epkbfa-${i}"></div>\n\t\t\t\t\t<div class="epkb-editor-settings-menu__group-item__title">${n}</div>\n\t\t\t\t</a>\n\t\t\t`}},"undefined"!=epkb_editor.preopen&&epkb_editor.preopen?EPKBEditor.init():t("#wp-admin-bar-epkb-edit-mode-button").one("click",function(){EPKBEditor.init()})});